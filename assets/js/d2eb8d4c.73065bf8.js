"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1263],{3905:(e,a,n)=>{n.d(a,{Zo:()=>c,kt:()=>d});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function s(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?s(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=t.createContext({}),p=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},c=function(e){var a=p(e.components);return t.createElement(l.Provider,{value:a},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,d=u["".concat(l,".").concat(m)]||u[m]||h[m]||s;return n?t.createElement(d,o(o({ref:a},c),{},{components:n})):t.createElement(d,o({ref:a},c))}));function d(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=m;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[u]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<s;p++)o[p]=n[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1340:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var t=n(7462),r=(n(7294),n(3905));const s={sidebar_position:3},o="Quick Start",i={unversionedId:"launchpad/quick-start",id:"launchpad/quick-start",title:"Quick Start",description:"We have designed Launchpad to be modular so that you can implement the whole project or parts of it as best suits your needs. Checkout this page for more info about the modularity of Launchpad.",source:"@site/docs/launchpad/quick-start.md",sourceDirName:"launchpad",slug:"/launchpad/quick-start",permalink:"/launchpad/quick-start",draft:!1,editUrl:"https://github.com/graphops/docs/edit/main/docs/launchpad/quick-start.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"launchpadSidebar",previous:{title:"Prerequisites",permalink:"/launchpad/prerequisites"},next:{title:"Release Channels",permalink:"/launchpad/release-channels"}},l={},p=[{value:"Using Launchpad end to end",id:"using-launchpad-end-to-end",level:2},{value:"Install Taskfile",id:"install-taskfile",level:3},{value:"Use launchpad-starter for your new infra repo",id:"use-launchpad-starter-for-your-new-infra-repo",level:3},{value:"Setup the launchpad dependencies",id:"setup-the-launchpad-dependencies",level:3},{value:"Connect your Local environment to your Kubernetes cluster",id:"connect-your-local-environment-to-your-kubernetes-cluster",level:3},{value:"\ud83c\udf89 Milestone: Local environment configured!",id:"-milestone-local-environment-configured",level:3},{value:"Customize your helmfiles",id:"customize-your-helmfiles",level:3},{value:"Syncing your <code>helmfile.yaml</code> with the cluster",id:"syncing-your-helmfileyaml-with-the-cluster",level:3},{value:"\ud83c\udf89 Milestone: Kubernetes and core systems running!",id:"-milestone-kubernetes-and-core-systems-running",level:3},{value:"Deploy blockchain namespaces as desired",id:"deploy-blockchain-namespaces-as-desired",level:3},{value:"(optional, arbitrum-sepolia) Install Arbitrum Nitro and Proxyd for Arbitrum Sepolia",id:"optional-arbitrum-sepolia-install-arbitrum-nitro-and-proxyd-for-arbitrum-sepolia",level:4},{value:"Install the Graph Arbitrum Sepolia Indexer Stack",id:"install-the-graph-arbitrum-sepolia-indexer-stack",level:3},{value:"\ud83c\udf89 Milestone: Graph Indexer running and accessible",id:"-milestone-graph-indexer-running-and-accessible",level:3},{value:"Updates",id:"updates",level:2},{value:"Updating <code>launchpad-namespace</code> changes into your stack",id:"updating-launchpad-namespace-changes-into-your-stack",level:3},{value:"Pulling in starter changes",id:"pulling-in-starter-changes",level:3},{value:"Using Helmfile and Launchpad Charts",id:"using-helmfile-and-launchpad-charts",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Deploying using Launchpad-charts directly",id:"deploying-using-launchpad-charts-directly",level:3},{value:"Key Consideration",id:"key-consideration",level:4},{value:"Deploying using Helmfile",id:"deploying-using-helmfile",level:3},{value:"Deploy blockchain namespaces as desired",id:"deploy-blockchain-namespaces-as-desired-1",level:3},{value:"(optional, arbitrum-sepolia) Install Arbitrum Nitro and Proxyd for Arbitrum Sepolia",id:"optional-arbitrum-sepolia-install-arbitrum-nitro-and-proxyd-for-arbitrum-sepolia-1",level:4},{value:"Install the Graph Arbitrum Sepolia Indexer Stack",id:"install-the-graph-arbitrum-sepolia-indexer-stack-1",level:3},{value:"\ud83c\udf89 Milestone: Graph Indexer running and accessible",id:"-milestone-graph-indexer-running-and-accessible-1",level:3}],c={toc:p},u="wrapper";function h(e){let{components:a,...n}=e;return(0,r.kt)(u,(0,t.Z)({},c,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"quick-start"},"Quick Start"),(0,r.kt)("p",null,"We have designed Launchpad to be modular so that you can implement the whole project or parts of it as best suits your needs. Checkout ",(0,r.kt)("a",{parentName:"p",href:"/launchpad/modularity"},"this page")," for more info about the modularity of Launchpad. "),(0,r.kt)("p",null,"Make sure you have all the ",(0,r.kt)("a",{parentName:"p",href:"prerequisites"},"Prerequisites")," before starting."),(0,r.kt)("p",null,"To start jump to the relevant section based on how you're using the project:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#using-launchpad-end-to-end"},"Using Launchpad End to End")," "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#using-helmfile-and-launchpad-charts"},"Using Launchpad Charts and Helmfile"))),(0,r.kt)("h2",{id:"using-launchpad-end-to-end"},"Using Launchpad end to end"),(0,r.kt)("p",null,"This section takes you through steps of getting started using all aspects of the Launchpad project."),(0,r.kt)("h3",{id:"install-taskfile"},"Install Taskfile"),(0,r.kt)("p",null,"Launchpad has a large number of tooling dependencies that will run on your local machine. The most important dependency is ",(0,r.kt)("a",{parentName:"p",href:"https://taskfile.dev"},"Taskfile"),"."),(0,r.kt)("p",null,"Follow the ",(0,r.kt)("a",{parentName:"p",href:"https://taskfile.dev/installation/"},"installation instructions")," for your environment and install Taskfile on your local machine before continuing."),(0,r.kt)("h3",{id:"use-launchpad-starter-for-your-new-infra-repo"},"Use launchpad-starter for your new infra repo"),(0,r.kt)("p",null,"Next, we are going to create the repository that will contain your new infrastructure's configuration."),(0,r.kt)("p",null,"First, prepare a new empty repository to hold your infrastructure repo. This could be a new repository on GitHub, GitLab, BitBucket, etc."),(0,r.kt)("p",null,"Next, we're going to clone ",(0,r.kt)("inlineCode",{parentName:"p"},"launchpad-starter"),", and then replace the existing ",(0,r.kt)("inlineCode",{parentName:"p"},"origin")," remote with your new remote repository. This allows us to retain the commit history of ",(0,r.kt)("inlineCode",{parentName:"p"},"launchpad-starter"),". A shared commit history will make future rebases against the upstream ",(0,r.kt)("inlineCode",{parentName:"p"},"launchpad-starter")," much easier."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Clone the starter into my-new-infra and cd into it\ngit clone https://github.com/graphops/launchpad-starter my-new-infra\ncd my-new-infra\n\n# Set your own remote as origin\ngit remote remove origin\ngit remote add origin git@github.com:you/your-infra.git\n\n# Push to your new repo\ngit push origin main\n")),(0,r.kt)("p",null,"All work on your infrastructure will take place in this new repo. We recommend carefully version controlling all changes you make to your infrastructure configuration."),(0,r.kt)("h3",{id:"setup-the-launchpad-dependencies"},"Setup the launchpad dependencies"),(0,r.kt)("p",null,"Next, we should install all of the local tooling dependencies (like Helm or Kubectl) that we will need."),(0,r.kt)("p",null,"We can easily do that by running the ",(0,r.kt)("inlineCode",{parentName:"p"},"launchpad:update-deps")," command."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# You may need to use sudo for this command\ntask launchpad:update-deps\n")),(0,r.kt)("h3",{id:"connect-your-local-environment-to-your-kubernetes-cluster"},"Connect your Local environment to your Kubernetes cluster"),(0,r.kt)("p",null,"To connect your local machine to a Kubernetes cluster, you can follow these general steps:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Get Cluster Configuration:")," Make sure your ",(0,r.kt)("a",{parentName:"p",href:"https://devopscube.com/kubernetes-kubeconfig-file/"},(0,r.kt)("inlineCode",{parentName:"a"},"kubeconfig"))," has been added to ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.kube/config")," file. If you don't have this file, you may need to ask the administrator that created the cluster for the configuration."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Verify Configuration:")," Open the ",(0,r.kt)("inlineCode",{parentName:"p"},"config")," file in a text editor to verify that it contains the correct cluster details, including server URL, certificates, and context information."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Switch Context if working with multiple Kubernetes clusters:")," A context in Kubernetes is a combination of a cluster, a user, and a namespace. Use the ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl config use-context")," command to set your desired context. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"kubectl config use-context <context-name>\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Test Connection:")," Run a simple ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl")," command to test if your local machine can connect to the cluster:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"kubectl get pods\n")),(0,r.kt)("p",null,"   This command should list the pods in the default namespace of your cluster."),(0,r.kt)("p",null,"Remember that each cluster might have specific setup steps or requirements, especially if it's managed by a cloud provider. Always refer to the documentation provided by the cluster administrator or the cloud provider for detailed instructions on connecting your local machine to the cluster."),(0,r.kt)("h3",{id:"-milestone-local-environment-configured"},"\ud83c\udf89 Milestone: Local environment configured!"),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We now have our own private git repo containing the declarative configuration for our cluster deployments"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We have installed all the tooling dependencies on our local machine, which will be used to control the cluster"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Next: Copy ",(0,r.kt)("inlineCode",{parentName:"li"},"sample.helmfile.yaml")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"helmfile.yaml")," and edit it to select which Namespaces you would like to deploy on your Kubernetes cluster")),(0,r.kt)("h3",{id:"customize-your-helmfiles"},"Customize your helmfiles"),(0,r.kt)("p",null,"To get started with Helmfile, if you don\u2019t already have a ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfile.yaml"),", you can begin by copying the provided sample configuration file named ",(0,r.kt)("inlineCode",{parentName:"p"},"sample.helmfile.yaml"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cp sample.helmfile.yaml helmfile.yaml\n")),(0,r.kt)("p",null,"After copying, open ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfile.yaml")," in your preferred text editor to make necessary modifications. Within this file, you will find a ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfiles:")," section which organizes deployment configurations by namespace through multiple helmfile paths:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"helmfiles:\n  - path: namespaces/storage.yaml\n  - path: namespaces/sealed-secrets.yaml\n  - path: namespaces/postgres-operator.yaml\n  - path: namespaces/ingress.yaml\n  - path: namespaces/monitoring.yaml\n  - path: namespaces/eth-sepolia.yaml\n  - path: namespaces/eth-mainnet.yaml\n  - path: namespaces/arbitrum-sepolia.yaml\n  - path: namespaces/graph-arbitrum-sepolia.yaml\n")),(0,r.kt)("p",null,"This structure allows you to manage deployments modularly. You can add or remove entries in this list to include new namespaces or exclude those you no longer need. Each path points to a specific helmfile that defines resources to be deployed within that namespace. For instance, looking at ",(0,r.kt)("inlineCode",{parentName:"p"},"namespaces/storage.yaml"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"helmfiles:\n  - path: git::https://github.com/graphops/launchpad-namespaces.git@storage/helmfile.yaml?ref=storage-stable/latest\n    selectorsInherited: true\n    values:\n      - helmDefaults:\n          <<: *helmDefaults\n")),(0,r.kt)("p",null,"In the example above, values can be set to override the default configurations in a given Namespace, allowing for customization according to specific requirements. Refer to Namespaces documentation available here for more examples on how to configure them, or to see which ones are available: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/graphops/launchpad-namespaces"},"Namespaces"),"."),(0,r.kt)("h3",{id:"syncing-your-helmfileyaml-with-the-cluster"},"Syncing your ",(0,r.kt)("inlineCode",{parentName:"h3"},"helmfile.yaml")," with the cluster"),(0,r.kt)("p",null,"You can list all the releases present in the helmfile.yaml, and their labels, by running ",(0,r.kt)("inlineCode",{parentName:"p"},"task releases:list"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"NAME                            NAMESPACE               ENABLED INSTALLED       LABELS                                                                                  CHART                                           VERSION       \nopenebs                         storage                 true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:storage              openebs/openebs                                 3.8.0         \nopenebs-zfs-localpv             storage                 true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:storage              openebs-zfs-localpv/zfs-localpv                 2.3.0         \nopenebs-zfs-storageclass        storage                 true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:storage              graphops/resource-injector                      0.2.0         \nopenebs-zfs-snapclass           storage                 true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:storage              graphops/resource-injector                      0.2.0         \npostgres-operator               postgres-operator       true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:postgres-operator    postgres-operator-charts/postgres-operator      1.10.0        \ningress-nginx                   ingress                 true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:ingress              ingress-nginx/ingress-nginx                     4.7.1         \ncert-manager                    ingress                 true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:ingress              jetstack/cert-manager                           v1.12.3       \ncert-manager-resources          ingress                 true    true            launchpad.graphops.xyz/layer:base,launchpad.graphops.xyz/namespace:ingress              graphops/resource-injector                      0.2.0         \nsealed-secrets                  sealed-secrets          true    true            launchpad.graphops.xyz/namespace:sealed-secrets                                         sealed-secrets/sealed-secrets                   2.1\n")),(0,r.kt)("p",null,"First, update the Helmfile configuration for the base namespaces. You will likely need to configure storage and ingress settings in their respective files, ",(0,r.kt)("inlineCode",{parentName:"p"},"namespaces/storage.yaml")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"namespaces/ingress.yaml"),", by customizing them with your specific values."),(0,r.kt)("p",null,"In particular, the storage namespace may be a requirement even for other base namespaces, so lets install that one first by running ",(0,r.kt)("inlineCode",{parentName:"p"},"task releases:apply -- launchpad.graphops.xyz/namespace=storage")),(0,r.kt)("p",null,"Next, let's go ahead and install all the remaining cluster services. You will be prompted to install each namespace, with a summary of changes to be made."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"task releases:apply -- monitoring\ntask releases:apply -- storage\ntask releases:apply -- sealed-secrets\ntask releases:apply -- postgres-operator\ntask releases:apply -- ingress\n")),(0,r.kt)("h3",{id:"-milestone-kubernetes-and-core-systems-running"},"\ud83c\udf89 Milestone: Kubernetes and core systems running!"),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We connected to our hosts, configured them, and installed Kubernetes"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We installed core cluster services like Prometheus, Grafana, Loki and others"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Next: Deploy blockchain nodes and the Graph Indexing stack")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can now use ",(0,r.kt)("inlineCode",{parentName:"p"},"task indexer:forward-grafana")," to securely access your remote cluster's Grafana instance at http://localhost:3001")),(0,r.kt)("h3",{id:"deploy-blockchain-namespaces-as-desired"},"Deploy blockchain namespaces as desired"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If you have existing external blockchain nodes that you would like to use instead of deploying them into your cluster, you can skip this section, but make sure that you can access those nodes securely (e.g. via an internal network, or using HTTPS and authentication).")),(0,r.kt)("p",null,"Launchpad comes with Namespace definitions for a number of blockchain networks, including Ethereum Mainnet, Ethereum Sepolia Testnet, Gnosis Chain Mainnet, Polygon mainnet, Abitrum One, Arbitrum Sepolia, Celo Mainnet and others. Using those Namespaces, you can easily deploy blockchain nodes for the networks you want to index into your cluster."),(0,r.kt)("h4",{id:"optional-arbitrum-sepolia-install-arbitrum-nitro-and-proxyd-for-arbitrum-sepolia"},"(optional, arbitrum-sepolia) Install Arbitrum Nitro and Proxyd for Arbitrum Sepolia"),(0,r.kt)("p",null,"Make sure that your ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfile.yaml")," includes a path that directing to ",(0,r.kt)("inlineCode",{parentName:"p"},"namespaces/arbitrum-sepolia.yaml"),". Afterward, carefully examine the settings within ",(0,r.kt)("inlineCode",{parentName:"p"},"namespaces/arbitrum-sepolia.yaml")," to confirm they are accurate and align with your specific needs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"helmfiles:\n  - path: git::https://github.com/graphops/launchpad-namespaces.git@arbitrum/helmfile.yaml?ref=arbitrum-canary/latest\n    selectorsInherited: true\n    values:\n    - flavor: sepolia\n      helmDefaults:\n        <<: *helmDefaults\n      arbitrum-nitro:\n        values:\n          nitro:\n            config:\n              chain: 421614\n              parentChainUrl: <<your-l1-chain-url>> ## if setup with default ethereum ns values this would be http://proxyd-proxyd.eth-sepolia:8545 \n              parentChainBeaconUrl: <<your-l1-consensus-layer-url>> ## if setup with defaul ethereum ns values this would be http://nimbus.eth-sepolia:5052\n")),(0,r.kt)("p",null,"Deploy by syncing your cluster with the declarative ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfile.yaml"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"task releases:apply -- arbitrum-sepolia\n")),(0,r.kt)("h3",{id:"install-the-graph-arbitrum-sepolia-indexer-stack"},"Install the Graph Arbitrum Sepolia Indexer Stack"),(0,r.kt)("p",null,"Make sure that your ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfile.yaml")," includes a path that directing to ",(0,r.kt)("inlineCode",{parentName:"p"},"namespaces/graph-arbitrum-sepolia.yaml"),". Afterward, carefully examine the settings within ",(0,r.kt)("inlineCode",{parentName:"p"},"namespaces/graph-arbitrum-sepolia.yaml")," to confirm they are accurate and align with your specific needs."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'helmfiles:\n  - path: git::https://github.com/graphops/launchpad-namespaces.git@graph/helmfile.yaml?ref=graph-canary/latest\n    selectorsInherited: true\n    values:\n    - helmDefaults:\n        <<: *helmDefaults\n      flavor: "arbitrum-sepolia"\n    - graph-network-indexer:\n        values:\n          indexerDefaults:\n            config:\n              indexer-address: "<<your indexer arbitrum address>>"\n          indexerAgent:\n            config:\n              public-indexer-url: "<<your public index URL>>"\n      graph-operator-mnemonic:\n        values:\n          resources:\n            ### RECOMMENDED, safe to commit\n            sealed-secret:\n              apiVersion: bitnami.com/v1alpha1\n              kind: SealedSecret\n              metadata:\n                name: graph-operator-mnemonic\n                namespace: graph-arbitrum-sepolia\n              spec:\n                template:\n                  metadata:\n                    name: graph-operator-mnemonic\n                    namespace: graph-arbitrum-sepolia\n                  type: Opaque\n                encryptedData:\n                  mnemonic: <<your encrypted mnemonic>> # Generate a SealedSecret encryptedData key with the "utils:seal-secrets" task, e.g.: task utils:seal-secrets -- -n graph-arbitrum-sepolia -s graph-operator-mnemonic -k mnemonic -v "your mnemonic words"\n      graph-database:\n        values:\n          resources:\n            postgres-cr-primary-subgraph-data:\n              spec:\n                volume:\n                  storageClass: "<<your storage class>>"\n            postgres-cr-indexer-metadata:\n              spec:\n                volume:\n                  storageClass: "<<your storage class>>"\n')),(0,r.kt)("p",null,"Proceed to deploy:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"task releases:apply -- graph-arbitrum-sepolia\n")),(0,r.kt)("h3",{id:"-milestone-graph-indexer-running-and-accessible"},"\ud83c\udf89 Milestone: Graph Indexer running and accessible"),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We (optionally) configured and deployed blockchain nodes into our cluster"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We configured and deployed the Graph Indexing stack into our cluster"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Next: Use the remote-toolbox to allocate to subgraphs and begin serving requests")),(0,r.kt)("h2",{id:"updates"},"Updates"),(0,r.kt)("h3",{id:"updating-launchpad-namespace-changes-into-your-stack"},"Updating ",(0,r.kt)("inlineCode",{parentName:"h3"},"launchpad-namespace")," changes into your stack"),(0,r.kt)("p",null,"As new versions of key components in the stack are released, we will update ",(0,r.kt)("inlineCode",{parentName:"p"},"launchpad-namespaces"),"'s templated definitions and the various release streams available. You can selectively inherit these updates with ease by changing the git ref as a means to track what release stream you may want, or to pin to any particular major, minor or patch version."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"following latest"),":"),(0,r.kt)("p",null,"Your ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=")," would look like this, for the storage namespace: ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=storage-latest"),", or alternatively: ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=storage-stable/latest"),".\nThe path for this ",(0,r.kt)("em",{parentName:"p"},"Namespace"),", under helmfiles, would then look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"- path: git::https://github.com/graphops/launchpad-namespaces.git@storage/helmfile.yaml?ref=storage-latest\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"following a specific major version"),":"),(0,r.kt)("p",null,"Your ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=")," would look like this, for the storage namespace: ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=storage-v1"),".\nThe path for this ",(0,r.kt)("em",{parentName:"p"},"Namespace"),", under helmfiles, would then look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"- path: git::https://github.com/graphops/launchpad-namespaces.git@storage/helmfile.yaml?ref=storage-v1\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"following a specific minor version"),":"),(0,r.kt)("p",null,"Your ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=")," would look like this, for the storage namespace: ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=storage-v1.2"),".\nThe path for this ",(0,r.kt)("em",{parentName:"p"},"Namespace"),", under helmfiles, would then look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"- path: git::https://github.com/graphops/launchpad-namespaces.git@storage/helmfile.yaml?ref=storage-v1.2\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"pinning to an exact version"),":"),(0,r.kt)("p",null,"Your ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=")," would look like this, for the storage namespace: ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=storage-v1.2.2"),".\nThe path for this ",(0,r.kt)("em",{parentName:"p"},"Namespace"),", under helmfiles, would then look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"- path: git::https://github.com/graphops/launchpad-namespaces.git@storage/helmfile.yaml?ref=storage-v1.2.2\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"following the latest canary"),":"),(0,r.kt)("p",null,"Your ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=")," would look like this, for the storage namespace: ",(0,r.kt)("inlineCode",{parentName:"p"},"?ref=storage-canary/latest"),".\nThe path for this ",(0,r.kt)("em",{parentName:"p"},"Namespace"),", under helmfiles, would then look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"- path: git::https://github.com/graphops/launchpad-namespaces.git@storage/helmfile.yaml?ref=storage-canary/latest\n")),(0,r.kt)("p",null,"We would recommend that you either follow the latest stable releases, or pin to a specific version."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"For full implementation details and other comprehensive notes about ",(0,r.kt)("inlineCode",{parentName:"p"},"launchpad-namespaces")," please visit the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/graphops/launchpad-namespaces/blob/main/README.md"},"github repo"),".")),(0,r.kt)("h3",{id:"pulling-in-starter-changes"},"Pulling in starter changes"),(0,r.kt)("p",null,"From time to time, you may want to update your infra repo with the latest changes from our starter."),(0,r.kt)("p",null,"Launchpad comes with a built in task to do this, but it does require you to handle any rebase conflicts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"task launchpad:pull-upstream-starter\n")),(0,r.kt)("h2",{id:"using-helmfile-and-launchpad-charts"},"Using Helmfile and Launchpad Charts"),(0,r.kt)("p",null,"This guide will cover two primary ways to deploy blockchain-related resources in Kubernetes using Launchpad charts: deploying all components at once using Helmfile and deploying individual components directly using Helm charts."),(0,r.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"Ensure you have ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/helm/helm"},"helm"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/helmfile/helmfile"},"helmfile")," and it's dependency ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/databus23/helm-diff"},"helm-diff")," installed on your local machine. This guide assumes familiarity with basic Helm and Helmfile operations."),(0,r.kt)("p",null,"Before proceeding with this guide, make sure the following tools are installed on your local machine:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/helm/helm"},"Helm"),": The package manager for Kubernetes, essential for managing and deploying applications."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/helmfile/helmfile"},"Helmfile"),": A tool to help streamline the use of Helm charts, enabling better management of Helm chart configurations."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/databus23/helm-diff"},"Helm-diff"),": A Helm plugin that helps visualize differences between your Helmfile configurations and what is actually deployed in your cluster. This plugin is a dependency for effectively using Helmfile."),(0,r.kt)("li",{parentName:"ul"},"(Optional)",(0,r.kt)("a",{parentName:"li",href:"https://github.com/kubernetes-sigs/kustomize"},"Kustomize"),": A tool for customizing Kubernetes configurations beyond what is available with Helm, useful for more complex deployment scenarios.\nThis guide assumes you are familiar with basic operations of Helm and Helmfile.")),(0,r.kt)("h3",{id:"deploying-using-launchpad-charts-directly"},"Deploying using Launchpad-charts directly"),(0,r.kt)("p",null,"If you prefer to use individual components of Launchpad, such as Launchpad Charts, you can add the Launchpad Helm repository and install charts directly:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helm repo add graphops https://graphops.github.io/launchpad-charts\nhelm install my-release graphops/<chart-name> --values <your-values-override.yaml>\n")),(0,r.kt)("h4",{id:"key-consideration"},"Key Consideration"),(0,r.kt)("p",null,"Before proceeding, it is important to note that most Kubernetes clusters do not come pre-configured with a ",(0,r.kt)("a",{parentName:"p",href:"https://kubernetes-csi.github.io/docs/"},"Container Storage Interface (CSI)")," for handling storage volumes. This guide relies on the ability to create storage volumes. It is also necessary to have an Ingress controller installed and configured, as it is essential for managing traffic to and from your applications."),(0,r.kt)("h3",{id:"deploying-using-helmfile"},"Deploying using Helmfile"),(0,r.kt)("p",null,"For a comprehensive deployment, managing all related Helm releases and their values via a single Helmfile offers simplicity and maintainability. This method is particularly effective when deploying complex stacks."),(0,r.kt)("h3",{id:"deploy-blockchain-namespaces-as-desired-1"},"Deploy blockchain namespaces as desired"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If you have existing external blockchain nodes that you would like to use instead of deploying them into your cluster, you can skip this section, but make sure that you can access those nodes securely (e.g. via an internal network, or using HTTPS and authentication).")),(0,r.kt)("h4",{id:"optional-arbitrum-sepolia-install-arbitrum-nitro-and-proxyd-for-arbitrum-sepolia-1"},"(optional, arbitrum-sepolia) Install Arbitrum Nitro and Proxyd for Arbitrum Sepolia"),(0,r.kt)("p",null,"The following ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfile.yaml")," provides an example configuration for deploying Arbitrum Nitro on the Arbitrum Sepolia network. For an easier setup process, we recommend utilizing the ",(0,r.kt)("a",{parentName:"p",href:"#optional-arbitrum-sepolia-install-arbitrum-nitro-and-proxyd-for-arbitrum-sepolia"},"Launchpad Arbitrum namespace"),", which includes most of the necessary configurations pre-defined for your convenience."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# helmfile.yaml\nrepositories:\n  - name: graphops\n    url: https://graphops.github.io/launchpad-charts\n\nreleases:\n  - name: arbitrum-nitro\n    namespace: arbitrum-sepolia\n    createNamespace: true\n    chart: graphops/arbitrum-nitro\n    version: 0.3.4\n    values:\n      - nitro:\n          config:\n            chain: 421614 # determines Arbitrum network - 421614 Sepolia\n            parentChainUrl: http://your-eth-sepolia-url:8545  ## changeme\n            parentChainBeaconUrl: http://your-eth-consensus-node-url:5052  ## changeme\n\n          volumeClaimSpec:\n            resources:\n              requests:\n                # -- The amount of disk space to provision for Arbitrum Nitro\n                storage: 1Ti\n            # -- The storage class to use when provisioning a persistent volume for Arbitrum-Nitro \n            storageClassName: openebs-rawfile-localpv #\xa0change me as needed\n\n          restoreSnapshot:\n            enabled: false\n\n          extraLabels:\n            app.kubernetes.io/workload-type: blockchain-stateful\n            app.kubernetes.io/blockchain: arbitrum-nitro\n\n          # if using Prometheus for monitoring:\n          prometheus:\n            serviceMonitors:\n              enabled: true\n\n  - name: proxyd-nitro\n    namespace: arbitrum-sepolia\n    createNamespace: true\n    chart: graphops/proxyd\n    version: 0.5.3\n    values:\n      - backends:\n          arbitrum-nitro:\n            enabled: true\n            # -- Define the RPC URL for the backend\n            rpcUrl: http://arbitrum-nitro:8547\n            # -- Define the WS URL for the backend\n            wsUrl: ws://arbitrum-nitro:8548\n            # -- Define additional configuration keys for the backend (see [proxyd config](https://github.com/ethereum-optimism/optimism/blob/5d309e6a6d5e1ef6a88c1ce827b7e6d47f033bbb/proxyd/example.config.toml#L47))\n            extraConfig:\n              consensus_skip_peer_count: true\n            # -- Define which backend groups the backend is part of\n            groups:\n              - main\n\n          # if using Prometheus and Grafana for monitoring:\n          prometheus:\n            serviceMonitors:\n              enabled: true\n\n          grafana:\n            dashboards: true\n")),(0,r.kt)("p",null,"Deploy by syncing your cluster with the declarative ",(0,r.kt)("inlineCode",{parentName:"p"},"helmfile.yaml"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helmfile -f path/to/helmfile.yaml sync\n")),(0,r.kt)("h3",{id:"install-the-graph-arbitrum-sepolia-indexer-stack-1"},"Install the Graph Arbitrum Sepolia Indexer Stack"),(0,r.kt)("p",null,"This section of the guide does not include the setup for ",(0,r.kt)("inlineCode",{parentName:"p"},"subgraph-data")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"indexer-metadata")," PostgreSQL databases necessary for ",(0,r.kt)("inlineCode",{parentName:"p"},"graph-node")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"indexer-agent"),". You are encouraged to explore ",(0,r.kt)("a",{parentName:"p",href:"https://www.postgresql.org/support/professional_hosting/"},"managed solutions"),", use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/bitnami/charts/tree/main/bitnami/postgresql"},"Bitnami's chart"),", or deploy ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/zalando/postgres-operator/tree/master"},"Zalando's Operator")," as part of the Launchpad Namespaces which includes a ready-to-use Postgres setup or independently."),(0,r.kt)("p",null,"Include the necessary configurations for ",(0,r.kt)("inlineCode",{parentName:"p"},"graph-node")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"indexer-agent")," in your helmfile.yaml as shown in the previous sections, adjusting PostgreSQL references and other settings to fit your specific requirements."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'releases:\n  - name: graph-node\n    namespace: arbitrum-sepolia\n    createNamespace: true\n    chart: graphops/graph-node\n    version: 0.5.3\n    values:\n    # This is a values.yaml override file for https://github.com/graphops/launchpad-charts/tree/main/charts/graph-node\n    - graphNodeDefaults:\n        env:\n          # Graph Node configuration\n          IPFS: "https://ipfs.network.thegraph.com"\n          GRAPH_ALLOW_NON_DETERMINISTIC_FULLTEXT_SEARCH: "true"\n          # Database configuration\n          PRIMARY_SUBGRAPH_DATA_PGHOST: <your-subgraph-data-postgresql-host> ## change me\n          PRIMARY_SUBGRAPH_DATA_PGPORT: 5432\n          PRIMARY_SUBGRAPH_DATA_PGDATABASE: <your-subgraph-data-postgresql-db> ## change me\n\n        # Database sensitive/secret information\n        secretEnv:\n          PRIMARY_SUBGRAPH_DATA_PGUSER:\n            secretName: <your-secret-containing-subgraph-data-postgresql-username>\n            key: username\n          PRIMARY_SUBGRAPH_DATA_PGPASSWORD:\n            secretName: <your-secret-containing-subgraph-data-postgresql-password>\n            key: password\n\n      graphNodeGroups:\n        index:\n          replicaCount: 1 #\xa0scale me\n        query:\n          replicaCount: 1 #\xa0scale me\n      \n      chains:\n        mainnet:\n          enabled: true\n          shard: primary\n          provider:\n            - label: eth-mainnet\n              url: <your-eth-mainnet-RPC> ## change me\n              features: [archive, traces]\n\n        arbitrum-sepolia:\n          enabled: true\n          shard: primary\n          provider:\n            - label: arbitrum-sepolia\n              url: http://proxyd-proxyd.arbitrum-sepolia:8545\n              features: [archive, traces]\n\n      # if using Prometheus and Grafana for monitoring:\n      prometheus:\n        serviceMonitors:\n          enabled: true\n\n      grafana:\n        dashboards: true\n        datasources: true\n\n  - name: graph-network-indexer\n    namespace: arbitrum-sepolia\n    createNamespace: true\n    chart: graphops/graph-network-indexer\n    version: 0.2.5\n    values:\n      # This is a values.yaml override file for https://github.com/graphops/launchpad-charts/tree/main/charts/graph-network-indexer\n    - indexerDefaults:\n        config:\n          ethereum: "http://proxyd-proxyd.arbitrum-sepolia:8545"\n          ethereum-network: "arbitrum-sepolia"\n          network-subgraph-endpoint: "https://api.thegraph.com/subgraphs/name/graphprotocol/graph-network-arbitrum-sepolia"\n          graph-node-query-endpoint: "http://graph-node-query:8000"\n          graph-node-status-endpoint: "http://graph-node-block-ingestor:8030/graphql"\n          postgres-host: "<your-indexer-metadata-postgresql-host>" ## change me\n          postgres-database: "<your-indexer-metadata-postgresql-db>" ## change me\n\n      indexerAgent:\n        config:\n          collect-receipts-endpoint: "https://gateway-testnet-arbitrum.network.thegraph.com/collect-receipts"\n          network-subgraph-deployment: "QmT8UDGK7zKd2u2NQZwhLYHdA4KM55QsivkE3ouCuX6fEj" # find at https://github.com/graphprotocol/indexer/blob/main/docs/networks.md\n          epoch-subgraph-endpoint: "https://api.thegraph.com/subgraphs/name/graphprotocol/arbitrum-sepolia-ebo" # find at https://github.com/graphprotocol/indexer/blob/main/docs/networks.md\n          epoch-subgraph-deployment: "QmTpu2mVquoMpr4SWSM77nGkU3tcUS1Bhk1sVHpjDrAUAx"\n          graph-node-admin-endpoint: "http://graph-node-block-ingestor:8020"\n          public-indexer-url: "<your-public-indexer-url>" ## change me\n          index-node-ids: "graph-node-index-0" # if more than one graph-node index, specify as comma delimited list ie "graph-node-index-0, graph-node-index-1"\n\n        secretEnv:\n          INDEXER_AGENT_MNEMONIC:\n            secretName: <your-secret-containing-your-graph-operator-mnemonic>\n            key: mnemonic\n          INDEXER_AGENT_POSTGRES_USERNAME:\n            secretName: <your-secret-containing-indexer-metadata-postgresql-username>\n            key: username\n          INDEXER_AGENT_POSTGRES_PASSWORD:\n            secretName: <your-secret-containing-indexer-metadata-postgresql-password>\n            key: password\n\n\n      indexerService:\n        replicas: 1 #\xa0scale me\n\n        config:\n            client-signer-address: "0xe1EC4339019eC9628438F8755f847e3023e4ff9c" # find at https://github.com/graphprotocol/indexer/blob/main/docs/networks.md\n        \n        secretEnv:\n          INDEXER_SERVICE_MNEMONIC:\n            secretName: <your-secret-containing-your-graph-operator-mnemonic>\n            key: mnemonic\n          INDEXER_SERVICE_POSTGRES_USERNAME:\n            secretName: <your-secret-containing-indexer-metadata-postgresql-username>\n            key: username\n          INDEXER_SERVICE_POSTGRES_PASSWORD:\n            secretName: <your-secret-containing-indexer-metadata-postgresql-password>\n            key: password\n      # if using Prometheus and Grafana for monitoring:\n      prometheus:\n        serviceMonitors:\n          enabled: true\n\n      grafana:\n        dashboards: true\n\n  - name: subgraph-radio\n    namespace: arbitrum-sepolia\n    createNamespace: true\n    chart: graphops/subgraph-radio\n    version: 0.2.8\n    values:\n    - env:\n        GRAPH_NODE_STATUS_ENDPOINT: http://graph-node-block-ingestor:8030/graphql\n        INDEXER_MANAGEMENT_SERVER_ENDPOINT: http://graph-network-indexer-agent:8000\n        GRAPHCAST_NETWORK: "testnet"\n        REGISTRY_SUBGRAPH: https://api.thegraph.com/subgraphs/name/hopeyen/graphcast-registry-arb-se\n        NETWORK_SUBGRAPH: https://api.thegraph.com/subgraphs/name/graphprotocol/graph-network-arbitrum-sepolia\n      secretEnv:\n        MNEMONIC:\n          secretName: <your-secret-containing-your-graph-operator-mnemonic>\n          key: mnemonic\n\n  - name: graph-toolbox\n    namespace: arbitrum-sepolia\n    createNamespace: true\n    chart: graphops/graph-toolbox\n    version: 0.1.0\n    values:\n    - config:\n        graphNode:\n          # -- URL to Graph Node Admin API\n          adminApiUrl: http://graph-node-block-ingestor:8020\n          existingConfigMap:\n            # -- The name of the ConfigMap that contains your Graph Node config.toml\n            configMapName: graph-node-config\n            # -- The name of the data key in the ConfigMap that contains your config.toml\n            configFileKey: config.toml\n        indexer:\n          # -- URL to Indexer Agent Management Server\n          indexerAgentManagementUrl: http://graph-network-indexer-agent:8000\n\n      aliases:\n        graphman: graphman --config /graphman-config/config.toml\n        indexer: graph-indexer indexer\n        psql-primary-subgraph-data: >\n          PGPASSWORD=$PRIMARY_SUBGRAPH_DATA_PGPASSWORD psql -w -U $PRIMARY_SUBGRAPH_DATA_PGUSER -d "host=$PRIMARY_SUBGRAPH_DATA_PGHOST,port=$PRIMARY_SUBGRAPH_DATA_PGPORT,dbname=$PRIMARY_SUBGRAPH_DATA_PGDATABASE"\n        psql-indexer-metadata: >\n          PGPASSWORD=$INDEXER_METDATA_PGPASSWORD psql -w -U $INDEXER_METADATA_PGUSER -d "host=$INDEXER_METADATA_PGHOST,port=$INDEXER_METADATA_PGPORT,dbname=$INDEXER_METADATA_PGDATABASE"\n\n      env:\n        PRIMARY_SUBGRAPH_DATA_PGHOST: <your-subgraph-data-postgresql-host> ## change me\n        PRIMARY_SUBGRAPH_DATA_PGPORT: 5432\n        PRIMARY_SUBGRAPH_DATA_PGDATABASE: <your-subgraph-data-postgresql-db> ## change me\n        INDEXER_METADATA_PGHOST: <your-indexer-metadata-postgresql-host> ## change me\n        INDEXER_METADATA_PGPORT: 5432\n        INDEXER_METADATA_PGDATABASE: <your-indexer-metadata-postgresql-db> ## change me\n\n      secretEnv:\n        PRIMARY_SUBGRAPH_DATA_PGUSER:\n          secretName: <your-secret-containing-subgraph-data-postgresql-username> ## change me\n          key: username\n        PRIMARY_SUBGRAPH_DATA_PGPASSWORD:\n          secretName: <your-secret-containing-subgraph-data-postgresql-password> ## change me\n          key: password\n        INDEXER_METADATA_PGUSER:\n          secretName: <your-secret-containing-indexer-metadata-postgresql-username> ## change me\n          key: username\n        INDEXER_METDATA_PGPASSWORD:\n          secretName: <your-secret-containing-indexer-metadata-postgresql-username> ## change me\n          key: password\n')),(0,r.kt)("p",null,"Proceed to deploy:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helmfile -f path/to/helmfile.yaml sync\n")),(0,r.kt)("h3",{id:"-milestone-graph-indexer-running-and-accessible-1"},"\ud83c\udf89 Milestone: Graph Indexer running and accessible"),(0,r.kt)("p",null,"Once your deployments are successfully applied, your Graph Indexer should be operational, with blockchain nodes (if deployed) and the Graph Indexing stack running in your Kubernetes cluster."),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We (optionally) configured and deployed blockchain nodes into our cluster"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","We configured and deployed the Graph Indexing stack into our cluster"),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Next: Use the remote-toolbox to allocate to subgraphs and begin serving requests")))}h.isMDXComponent=!0}}]);