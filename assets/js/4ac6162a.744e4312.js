"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[653],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),l=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=l(a),h=n,m=d["".concat(p,".").concat(h)]||d[h]||c[h]||o;return a?r.createElement(m,s(s({ref:t},u),{},{components:a})):r.createElement(m,s({ref:t},u))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,s=new Array(o);s[0]=h;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[d]="string"==typeof e?e:n,s[1]=i;for(var l=2;l<o;l++)s[l]=a[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},7664:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=a(7462),n=(a(7294),a(3905));const o={sidebar_position:5},s="Frequently Asked Questions (FAQs)",i={unversionedId:"launchpad/faq",id:"launchpad/faq",title:"Frequently Asked Questions (FAQs)",description:"Here are answers to some commonly asked questions. If you have a question that is not covered here, feel free to ask.",source:"@site/docs/launchpad/faq.md",sourceDirName:"launchpad",slug:"/launchpad/faq",permalink:"/launchpad/faq",draft:!1,editUrl:"https://github.com/graphops/docs/edit/main/docs/launchpad/faq.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"launchpadSidebar",previous:{title:"Client Side Tooling",permalink:"/launchpad/client-side-tooling"},next:{title:"Server Side Stack",permalink:"/launchpad/server-side-stack"}},p={},l=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Do I need a server for launchpad-starter?",id:"do-i-need-a-server-for-launchpad-starter",level:3},{value:"When you setup <code>postgres</code>, how do you configure the <code>zfs</code> storage parameters?",id:"when-you-setup-postgres-how-do-you-configure-the-zfs-storage-parameters",level:3},{value:"Is there a way to inject a pretuned postgres config into the chart?",id:"is-there-a-way-to-inject-a-pretuned-postgres-config-into-the-chart",level:3},{value:"Why are my stateful pods in <code>Pending</code> state and their expected <code>pvc</code> showing <code>WaitForFirstConsumer</code> errors?",id:"why-are-my-stateful-pods-in-pending-state-and-their-expected-pvc-showing-waitforfirstconsumer-errors",level:3},{value:"Need More Help?",id:"need-more-help",level:2}],u={toc:l},d="wrapper";function c(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"frequently-asked-questions-faqs"},"Frequently Asked Questions (FAQs)"),(0,n.kt)("p",null,"Here are answers to some commonly asked questions. If you have a question that is not covered here, feel free to ask."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#frequently-asked-questions-faqs"},"Frequently Asked Questions (FAQs)"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#table-of-contents"},"Table of Contents"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#do-i-need-a-server-for-launchpad-starter"},"Do I need a server for launchpad-starter?")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#when-you-setup-postgres-how-do-you-configure-the-zfs-storage-parameters"},"When you setup ",(0,n.kt)("inlineCode",{parentName:"a"},"postgres"),", how do you configure the ",(0,n.kt)("inlineCode",{parentName:"a"},"zfs")," storage parameters?")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#is-there-a-way-to-inject-a-pretuned-postgres-config-into-the-chart"},"Is there a way to inject a pretuned postgres config into the chart?")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#why-are-my-stateful-pods-in-pending-state-and-their-expected-pvc-showing-waitforfirstconsumer-errors"},"Why are my stateful pods in ",(0,n.kt)("inlineCode",{parentName:"a"},"Pending")," state and their expected ",(0,n.kt)("inlineCode",{parentName:"a"},"pvc")," showing ",(0,n.kt)("inlineCode",{parentName:"a"},"WaitForFirstConsumer")," errors?")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#need-more-help"},"Need More Help?"))))),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"do-i-need-a-server-for-launchpad-starter"},"Do I need a server for launchpad-starter?"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: Do I need a server for launchpad-starter?")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"A:")," No! The ",(0,n.kt)("a",{parentName:"p",href:"client-side-tooling"},"Client Side Tooling")," that comes with Launchpad should be run on your local machine. These tools are only used to instruct your cluster what to do.."),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"when-you-setup-postgres-how-do-you-configure-the-zfs-storage-parameters"},"When you setup ",(0,n.kt)("inlineCode",{parentName:"h3"},"postgres"),", how do you configure the ",(0,n.kt)("inlineCode",{parentName:"h3"},"zfs")," storage parameters?"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: When you setup ",(0,n.kt)("inlineCode",{parentName:"strong"},"postgres"),", how do you configure the ",(0,n.kt)("inlineCode",{parentName:"strong"},"zfs")," storage parameters (eg the block size, compression, etc) ?")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"A:")," Persistent workloads consume Persistent Volumes that use some specific StorageClass (an abstraction). Storage Providers in Kubernetes (like ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/openebs/zfs-localpv/tree/develop"},"openebs/zfs-localpv"),'), do the operational work of "implementing" those Storage Classes. It is the ',(0,n.kt)("inlineCode",{parentName:"p"},"StorageClass")," object/resource that would have that particular ZFS setup controlled by parameters. Here's an example of a ",(0,n.kt)("inlineCode",{parentName:"p"},"zfs")," StorageClass that sets some parameters:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  annotations:\n    meta.helm.sh/release-name: openebs-zfs-storageclass\n    meta.helm.sh/release-namespace: storage\n  labels:\n    app.kubernetes.io/managed-by: Helm\n    launchpad.graphops.xyz/layer: base\n    launchpad.graphops.xyz/namespace: storage\n  name: openebs-zfs-localpv-compressed-128k\nparameters:\n  compression: "on"\n  fstype: zfs\n  poolname: zpool\n  recordsize: "128k"\nprovisioner: zfs.csi.openebs.io\nreclaimPolicy: Delete\nvolumeBindingMode: WaitForFirstConsumer\nallowVolumeExpansion: true\n')),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"is-there-a-way-to-inject-a-pretuned-postgres-config-into-the-chart"},"Is there a way to inject a pretuned postgres config into the chart?"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: Is there a way to inject a pretuned postgres config into the chart? Or is that a post deployment step?")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"A:")," Yes. The ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/graphops/launchpad-charts/tree/main/charts/resource-injector"},(0,n.kt)("inlineCode",{parentName:"a"},"resource-injector"))," chart allows us to inject a pre-tuned postgres db. This ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/graphops/launchpad-namespaces/blob/aeedda4fe0f50766b6d8a6e5ea69c825f7fd2dd0/graph/values/_common/graph-database.yaml#L5-L37"},(0,n.kt)("inlineCode",{parentName:"a"},"postgresql"))," is a CRD (custom-resource-definition) that is consumed by the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/zalando/postgres-operator"},(0,n.kt)("inlineCode",{parentName:"a"},"postgres-operator"))," (which  does the whole operational work of creating the database, setting up users, etc.. as well as replication, backups are also a possiblity). It really allows a great deal of flexibility in terms of what/how it setups the database!"),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"why-are-my-stateful-pods-in-pending-state-and-their-expected-pvc-showing-waitforfirstconsumer-errors"},"Why are my stateful pods in ",(0,n.kt)("inlineCode",{parentName:"h3"},"Pending")," state and their expected ",(0,n.kt)("inlineCode",{parentName:"h3"},"pvc")," showing ",(0,n.kt)("inlineCode",{parentName:"h3"},"WaitForFirstConsumer")," errors?"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: Why are my stateful pods in ",(0,n.kt)("inlineCode",{parentName:"strong"},"Pending")," state and their expected ",(0,n.kt)("inlineCode",{parentName:"strong"},"pvc")," showing ",(0,n.kt)("inlineCode",{parentName:"strong"},"WaitForFirstConsumer")," errors?")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"  Normal  WaitForPodScheduled   26m (x19 over 31m)   persistentvolume-controller  waiting for pod kube-prometheus-stack-grafana-75b74df8fb-2vwbr to be scheduled\n  Normal  WaitForPodScheduled   47s (x102 over 26m)  persistentvolume-controller  waiting for pod kube-prometheus-stack-grafana-75b74df8fb-2vwbr to be scheduled\n")),(0,n.kt)("p",null,"or "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Normal  WaitForFirstConsumer  6m52s                   persistentvolume-controller  waiting for first consumer to be created before binding     \n")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"A:")," Using ",(0,n.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/concepts/storage/storage-classes/#volume-binding-mode"},(0,n.kt)("inlineCode",{parentName:"a"},"volumeBindingMode: WaitForFirstConsumer"))," although needed for both ",(0,n.kt)("inlineCode",{parentName:"p"},"openebs-rawfile-localpv")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"openebs-zfs-localpv")," seems to misbehave when there is a ",(0,n.kt)("inlineCode",{parentName:"p"},"storageClass")," set as default in the cluster (the ",(0,n.kt)("inlineCode",{parentName:"p"},"storageClass")," definition has the following annotation: ",(0,n.kt)("inlineCode",{parentName:"p"},'storageclass.kubernetes.io/is-default-class: "true"'),"). Making sure there is no default ",(0,n.kt)("inlineCode",{parentName:"p"},"storageClass")," should fix this issue."),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"need-more-help"},"Need More Help?"),(0,n.kt)("p",null,"If your question is not answered here, you can message us on the ",(0,n.kt)("a",{parentName:"p",href:"https://discord.com/channels/438038660412342282/1029379955307585568"},"#kubernetes-launchpad")," channel on ",(0,n.kt)("a",{parentName:"p",href:"https://discord.com/invite/vtvv7FP"},"graphprotocol")," Discord or you can open an issue on our ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/graphops/launchpad-namespaces/issues"},"launchpad-namespaces")," or ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/graphops/launchpad-charts/issues"},"launchpad-charts")," repos."))}c.isMDXComponent=!0}}]);