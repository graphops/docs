<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-graphcast/radios/poi-radio">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">📟 POI Radio | GraphOps Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.graphops.xyz//graphcast/radios/poi-radio"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="📟 POI Radio | GraphOps Docs"><meta data-rh="true" name="description" content="The source code for the POI Radio is available on GitHub and Docker builds are automatically published as GitHub Packages. POI Radio is also published as a Crate on Crates.io."><meta data-rh="true" property="og:description" content="The source code for the POI Radio is available on GitHub and Docker builds are automatically published as GitHub Packages. POI Radio is also published as a Crate on Crates.io."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.graphops.xyz//graphcast/radios/poi-radio"><link data-rh="true" rel="alternate" href="https://docs.graphops.xyz//graphcast/radios/poi-radio" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.graphops.xyz//graphcast/radios/poi-radio" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="GraphOps Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="GraphOps Docs Atom Feed"><link rel="stylesheet" href="/assets/css/styles.f2be0b9b.css">
<link rel="preload" href="/assets/js/runtime~main.bf0b3d2a.js" as="script">
<link rel="preload" href="/assets/js/main.5aec4296.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="GraphOps Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="GraphOps Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Documentation</b></a><a class="navbar__item navbar__link" href="/launchpad/intro">Launchpad</a><a class="navbar__item navbar__link" href="/mips-resources/intro">MIPs Resources</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/graphcast/intro">Graphcast</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/graphops/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docs on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/graphcast/intro">👋 Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/graphcast/design-principles">⚙️ Design Principles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/graphcast/sdk/intro">🧰 SDK</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphcast/sdk/intro">👋 Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphcast/sdk/radio-dev">🧑‍💻 Radio Development</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/graphcast/radios/poi-radio">📻 Radios</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/graphcast/radios/poi-radio">📟 POI Radio</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">📻 Radios</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">📟 POI Radio</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>📟 POI Radio</h1><p>The source code for the POI Radio is available <a href="https://github.com/graphops/poi-radio" target="_blank" rel="noopener noreferrer">on GitHub</a> and Docker builds are automatically published as <a href="https://github.com/graphops/poi-radio/pkgs/container/poi-radio" target="_blank" rel="noopener noreferrer">GitHub Packages</a>. POI Radio is also published as a Crate <a href="https://crates.io/crates/poi-radio" target="_blank" rel="noopener noreferrer">on Crates.io</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>The POI Radio is an optional component of the Graph Protocol Indexer Stack that leverages the Graphcast Network to cross-check subgraph data integrity with other participating Indexers.</p><p>In order for an Indexer to earn indexing rewards from the Protocol, valid Proofs of Indexing (POIs) must be posted on-chain regularly, proving that the Indexer has the correct data. Posting an invalid POI exposes the Indexer to the liability of a <a href="https://thegraph.com/docs/en/network/indexing/#what-are-disputes-and-where-can-i-view-them" target="_blank" rel="noopener noreferrer">Dispute</a> and being slashed by the Protocol. This Radio provides Indexers peace of mind that their POIs are being continuously cross-checked against other participating Indexers. In the event that there is a POI discrepancy, the Radio acts as an early warning system, notifying the Indexer within minutes of the discrepancy occuring.</p><p>All POIs that are generated by the Radio are normalized, meaning they are hashed with a <code>0x0</code> Indexer Address and can be compared between Indexers, all without being valid POIs that could be submitted on-chain for rewards. The Radio will group and weight all normalized POIs by the aggregate stake in GRT that is attesting to each. The normalized POI with the largest aggregate attesting stake is considered canonical and will be used for comparisons with your local Indexer POIs.</p><p>For security reasons, POI Radio needs an independent Graphcast ID linked to your Indexer account to operate. Your Graphcast ID is an Ethereum account that has been authorized to sign POI attestations on behalf of your Indexer. Follow instructions for registering your Graphcast ID below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registering-your-graphcast-id">Registering your Graphcast ID<a class="hash-link" href="#registering-your-graphcast-id" title="Direct link to heading">​</a></h3><p>The Graphcast Registry contract maps Graphcast IDs to Indexers in the Graph Protocol. You&#x27;ll need to register a Graphcast ID that is authorized to sign messages on behalf of your Indexer in order to use Graphcast.</p><p>Here is a brief overview of the accounts you&#x27;ll be interacting with:</p><table><thead><tr><th>Account Name</th><th>Description</th></tr></thead><tbody><tr><td>Indexer Account</td><td>The address associated with your Graph Protocol Indexer. This may be a Token Lock Contract address, or a multisig or EOA address.</td></tr><tr><td>Indexer Operator Account</td><td>An account you have registered as an Operator for your Indexer. You pass an Operator account into <code>indexer-agent</code>. You can register multiple Operators for your Indexer in parallel.</td></tr><tr><td>Graphcast ID Account</td><td>An account that is used by Graphcast Radio instances to sign messages on behalf of your Indexer.</td></tr></tbody></table><p>You&#x27;ll need to use a registered <a href="https://thegraph.com/docs/en/network/indexing/#stake-in-the-protocol" target="_blank" rel="noopener noreferrer">Indexer Operator</a> account for your Indexer to register a Graphcast ID.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>If you would prefer not to import the Operator account that you use with <code>indexer-agent</code> into your wallet in order to register your Graphcast ID, you can generate and register a dedicated operator account for this purpose. After you have registered your Graphcast ID, you can deregister the dedicated operator if you desire.</p></div></div><ol><li><a href="https://iancoleman.io/bip39/" target="_blank" rel="noopener noreferrer">Generate a new Ethereum account</a> to act as your Graphcast ID, keeping the details safe</li><li>Import your Indexer Operator private key into your wallet (e.g. MetaMask or Frame) in order to send a transaction to register your Graphcast ID</li><li>Navigate to Etherscan (<a href="https://etherscan.io/address/0x89f97698d6006f25570cd2e31737d3d22aedcbcf#writeProxyContract" target="_blank" rel="noopener noreferrer">mainnet registry</a>, <a href="https://goerli.etherscan.io/address/0x26ebbA649FAa7b56FDB8DE9Ea17aF3504B76BFA0#writeProxyContract" target="_blank" rel="noopener noreferrer">testnet registry</a>) in order to interact with the Graphcast Registry contract and register your Graphcast ID</li><li>Call <code>setGraphcastIDFor(indexer_address, graphcast_id)</code>, passing in your Indexer Address and Graphcast ID</li><li>Submit your transaction and wait for it to be included in a block</li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Each Graphcast ID can be associated with a single Indexer. To revoke a Graphcast ID for an Indexer, call <code>setGraphcastIDFor(indexer_address, graphcast_id)</code> with a Graphcast ID of <code>0x0</code> using a registered Indexer Operator Account.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-with-docker">Run with Docker<a class="hash-link" href="#run-with-docker" title="Direct link to heading">​</a></h3><ol><li>Pull the POI Radio image</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#243D42"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> pull ghcr.io/graphops/poi-radio:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Run the image, providing the required environment variables. Here&#x27;s a sample mainnet configuration:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#243D42"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">GRAPHCAST_NETWORK</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mainnet&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">REGISTRY_SUBGRAPH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://api.thegraph.com/subgraphs/name/hopeyen/graphcast-registry-mainnet&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">NETWORK_SUBGRAPH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://gateway.thegraph.com/network&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ETH_NODE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://your-eth-node:8545&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">PRIVATE_KEY</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GRAPHCAST_ID_PRIVATE_KEY&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">GRAPH_NODE_STATUS_ENDPOINT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://graph-node:8030/graphql&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">RUST_LOG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;warn,hyper=warn,graphcast_sdk=info,poi_radio=info&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ghcr.io/graphops/poi-radio:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="or-run-with-docker-compose">(or) Run with docker-compose<a class="hash-link" href="#or-run-with-docker-compose" title="Direct link to heading">​</a></h3><p>You can append this service definition to your <code>docker-compose</code> manifest and customise the definitions:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#243D42"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ... your other service definitions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">poi-radio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ghcr.io/graphops/poi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">radio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> poi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">GRAPHCAST_NETWORK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mainnet&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">REGISTRY_SUBGRAPH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://api.thegraph.com/subgraphs/name/hopeyen/graphcast-registry-mainnet&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">NETWORK_SUBGRAPH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://gateway.thegraph.com/network&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">ETH_NODE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://your-eth-node:8545&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">PRIVATE_KEY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GRAPHCAST_ID_PRIVATE_KEY&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">GRAPH_NODE_STATUS_ENDPOINT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://graph-node:8030/graphql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">RUST_LOG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;warn,hyper=warn,graphcast_sdk=info,poi_radio=info&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">logging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">driver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="or-run-using-a-pre-built-binary">(or) Run using a pre-built binary<a class="hash-link" href="#or-run-using-a-pre-built-binary" title="Direct link to heading">​</a></h3><p>We also provide pre-built binaries for Ubuntu and MacOS, which you can find in the <code>Assets</code> section on each release in the <a href="https://github.com/graphops/poi-radio/releases" target="_blank" rel="noopener noreferrer">releases page</a> on Github. Simply download the binary, make it executable (<code>chmod a+x ./poi-radio-{TAG}-{SYSTEM}</code>) and then run it (using <code>./poi-radio-{TAG}-{SYSTEM}</code>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">​</a></h2><p>In the configuration table below is the full list of environment variables you can set, along with example values.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mainnet">Mainnet<a class="hash-link" href="#mainnet" title="Direct link to heading">​</a></h3><table><thead><tr><th>Name</th><th>Example</th></tr></thead><tbody><tr><td><code>ETH_NODE</code></td><td><code>https://mainnet.infura.io/v3/&lt;API_KEY&gt;</code></td></tr><tr><td><code>PRIVATE_KEY</code></td><td><code>0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef</code></td></tr><tr><td><code>GRAPH_NODE_STATUS_ENDPOINT</code></td><td><code>http://localhost:8030/graphql</code></td></tr><tr><td><code>REGISTRY_SUBGRAPH</code></td><td><code>https://thegraph.com/hosted-service/subgraph/hopeyen/graphcast-registry-mainnet</code></td></tr><tr><td><code>NETWORK_SUBGRAPH</code></td><td><code>https://gateway.thegraph.com/network</code></td></tr><tr><td><code>GRAPHCAST_NETWORK</code></td><td><code>mainnet</code></td></tr><tr><td><code>COLLECT_MESSAGE_DURATION</code> (Optional)</td><td>Defaults to 30 seconds</td></tr><tr><td><code>WAKU_HOST</code> (Optional)</td><td>Defaults to <code>127.0.0.1</code></td></tr><tr><td><code>WAKU_PORT</code> (Optional)</td><td>Defaults to <code>8546</code></td></tr><tr><td><code>WAKU_NODE_KEY</code> (Optional)</td><td>Defaults to <code>None</code></td></tr><tr><td><code>BOOT_NODE_ADDRESSES</code> (Optional)</td><td>&quot;addr1, addr2, addr3&quot; (defaults to <code>None</code>)</td></tr><tr><td><code>SLACK_TOKEN</code> (Optional)</td><td><code>xoxp-0123456789-0123456789-0123456789-0123456789</code> (defaults to <code>None</code>)</td></tr><tr><td><code>SLACK_WEBHOOK</code> (Optional)</td><td><code>https://hooks.slack.com/services/&lt;ID&gt;/&lt;ID&gt;/&lt;TOKEN&gt;</code> (defaults to <code>None</code>)</td></tr><tr><td><code>RUST_LOG</code> (Optional)</td><td><code>graphcast_sdk=debug,poi_radio=debug</code>, defaults to <code>info</code> for everything</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testnet-goerli">Testnet (Goerli)<a class="hash-link" href="#testnet-goerli" title="Direct link to heading">​</a></h3><table><thead><tr><th>Name</th><th>Example</th></tr></thead><tbody><tr><td><code>ETH_NODE</code></td><td><code>https://goerli.infura.io/v3/&lt;API_KEY&gt;</code></td></tr><tr><td><code>PRIVATE_KEY</code></td><td><code>0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef</code></td></tr><tr><td><code>GRAPH_NODE_STATUS_ENDPOINT</code></td><td><code>http://localhost:8030/graphql</code> or <code>http://host.docker.internal:8030/graphql</code> for Docker</td></tr><tr><td><code>REGISTRY_SUBGRAPH</code></td><td><code>https://api.thegraph.com/subgraphs/name/hopeyen/graphcast-registry-goerli</code></td></tr><tr><td><code>NETWORK_SUBGRAPH</code></td><td><code>https://gateway.testnet.thegraph.com/network</code></td></tr><tr><td><code>GRAPHCAST_NETWORK</code></td><td><code>testnet</code></td></tr><tr><td><code>COLLECT_MESSAGE_DURATION</code> (Optional)</td><td>Defaults to 30 seconds</td></tr><tr><td><code>WAKU_HOST</code> (Optional)</td><td>Defaults to <code>127.0.0.1</code></td></tr><tr><td><code>WAKU_PORT</code> (Optional)</td><td>Defaults to <code>8546</code></td></tr><tr><td><code>WAKU_NODE_KEY</code> (Optional)</td><td>Defaults to <code>None</code></td></tr><tr><td><code>BOOT_NODE_ADDRESSES</code> (Optional)</td><td>&quot;addr1, addr2, addr3&quot; (defaults to <code>None</code>)</td></tr><tr><td><code>SLACK_TOKEN</code> (Optional)</td><td><code>xoxp-0123456789-0123456789-0123456789-0123456789</code> (defaults to <code>None</code>)</td></tr><tr><td><code>SLACK_WEBHOOK</code> (Optional)</td><td><code>https://hooks.slack.com/services/&lt;ID&gt;/&lt;ID&gt;/&lt;TOKEN&gt;</code> (defaults to <code>None</code>)</td></tr><tr><td><code>RUST_LOG</code> (Optional)</td><td><code>graphcast_sdk=debug,poi_radio=debug</code>, defaults to <code>info</code> for everything</td></tr></tbody></table><p><code>SLACK_TOKEN</code> and <code>SLACK_WEBHOOK</code> are used for POI divergence notifications in a Slack channel.</p><p><code>WAKU_HOST</code> and <code>WAKU_PORT</code> specify where the Graphcast node (included in all Radios) runs. If you want to run multiple Radios, or multiple instances of the same Radio, you should run them on different ports.</p><p>If you want to customize the log level, you can toggle <code>RUST_LOG</code> environment variable. Here&#x27;s an example configuration to get more verbose logging:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#243D42"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUST_LOG=&quot;warn,hyper=warn,graphcast_sdk=debug,poi_radio=debug&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-the-radio">Monitoring the Radio<a class="hash-link" href="#monitoring-the-radio" title="Direct link to heading">​</a></h3><p>If the Radio operator has set up a Slack Bot integration and the Radio finds a POI mismatch, it sends alerts to the designated channel. The operator can also inspect the logs to see if the Radio is functioning properly, if it&#x27;s sending and receiving messages, if it&#x27;s comparing normalised POIs, if there is a found POI mismatch, etc.</p><p>Support for Prometheus metrics and Grafana dashboards is coming soon!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works">How it works<a class="hash-link" href="#how-it-works" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetching-active-allocations">Fetching active allocations<a class="hash-link" href="#fetching-active-allocations" title="Direct link to heading">​</a></h3><p>The POI Radio is responsible for reading active allocations of the Radio operator&#x27;s corresponding Indexer. It periodically polls the Graph Node for new blocks on all relevant networks and constructs Graphcast topics on each allocation identified by subgraph deployment IPFS hash.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The relevant networks are those corresponding to the subgraphs that have active allocations.</p></div></div><p>The Radio fetches new active allocations at a set interval (currently set to 2 minutes) to ensure that it is processing the latest information. Chainheads for these networks are updated with data from the Graph Node, and the Radio ensures that it is always using the latest chainhead when processing messages.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gathering-and-comparing-normalised-pois">Gathering and comparing normalised POIs<a class="hash-link" href="#gathering-and-comparing-normalised-pois" title="Direct link to heading">​</a></h3><p>At a given interval, the Radio fetches the normalised POI for each deployment. This interval is defined in blocks different for each network.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>These are the current intervals:</p><ul><li>goerli - 2 blocks</li><li>eth mainnet - 10 blocks</li><li>gnosis - 5 blocks</li><li>hardhat - 5 blocks</li><li>arbitrum one - 5 blocks</li><li>arbitrum goerli - 5 blocks</li><li>avalanche - 5 blocks</li><li>polygon - 5 blocks</li><li>celo - 5 blocks</li><li>optimism - 5 blocks</li></ul></div></div><p>It then saves those nPOIs in an in-memory map. These nPOIs are referred to as <em>local</em> POIs since they are generated by the Radio. As other Indexers running the Radio start doing the same, messages start propagating through the network. The Radio handles each message and adds the POI from it in another in-memory map. These POIs are referred to as <em>remote</em> POIs since they are received from other network participants.</p><p>The messages include a nonce (UNIX timestamp), block number, signature (used to derive the sender&#x27;s on-chain Indexer address) and network. Before saving an entry to the map, the Radio operator verifies through the Graph network subgraph for the sender&#x27;s on-chain identity and amount of tokens staked, which is used during comparisons later on.</p><p>At another interval, the Radio compares the local POIs with the collected remote ones. That interval can be set by the operator, the default currently is 30 seconds. The remote POIs are sorted so that for each subgraph (on each block), the POI that is backed by the most on-chain stake is selected. This means that the combined stake of all Indexers that attested to it is considered, not just the highest staking Indexer. The top POI is then compared with the local POI for that subgraph at that block to determine consensus.</p><p>After a successful comparison, the attestations that have been checked are removed from the store.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="developing-the-poi-radio">Developing the POI Radio<a class="hash-link" href="#developing-the-poi-radio" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-image-using-the-dockerfile-locally">Building the image using the Dockerfile locally<a class="hash-link" href="#building-the-image-using-the-dockerfile-locally" title="Direct link to heading">​</a></h4><p>If you want to make any changes to the POI Radio codebase, you can use this option.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h5><ol><li>Clone this repo and <code>cd</code> into it</li><li>Create a <code>.env</code> file that includes at least the required environment variables. To see the full list of environment variables you can provide, check out the <a href="#configuration">Configuration</a> section.</li></ol><h5 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-poi-radio-inside-a-docker-container">Running the POI Radio inside a Docker container<a class="hash-link" href="#running-the-poi-radio-inside-a-docker-container" title="Direct link to heading">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#243D42"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker-compose</span><span class="token plain"> up -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-poi-radio-locally">Building POI Radio locally<a class="hash-link" href="#building-poi-radio-locally" title="Direct link to heading">​</a></h3><p>To have full control over the POI Radio code and run it directly on your machine (without Docker) you can use this option.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-1">Prerequisites<a class="hash-link" href="#prerequisites-1" title="Direct link to heading">​</a></h4><ol><li>Clone this repo and <code>cd</code> into it</li><li>Make sure you have the following installed:</li></ol><ul><li><a href="https://www.rust-lang.org/tools/install" target="_blank" rel="noopener noreferrer">Rust</a></li><li><a href="https://go.dev/doc/install" target="_blank" rel="noopener noreferrer">Go</a></li><li>Build tools (e.g. the <code>build-essentials</code> package for Debian-based Linux distributions or <a href="https://mac.install.guide/commandlinetools/index.html" target="_blank" rel="noopener noreferrer">Xcode Command Line Tools</a> for MacOS)</li><li>C compiler (e.g. the <code>clang</code> package for Debian-based Linux distribution or <a href="https://mac.install.guide/commandlinetools/index.html" target="_blank" rel="noopener noreferrer">Xcode Command Line Tools</a> for MacOS)</li><li>OpenSSL (e.g. the <code>libssl-dev</code> package for Debian-based Linux distribution or <code>openssl</code> for MacOS)</li><li>PostreSQL libraries and headers (e.g. the <code>libpq-dev</code> package for Debian-based Linux distribution or <code>postgresql</code> for MacOS)</li></ul><ol start="3"><li>You have <strong>Graph Node</strong> syncing your indexer&#x27;s on-chain allocations.</li><li>You have created a <code>.env</code> file that includes at least the required environment variables. To see the full list of environment variables you can provide, check out the <a href="#configuration">Configuration</a> section.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-poi-radio-natively">Running the POI Radio natively<a class="hash-link" href="#running-the-poi-radio-natively" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#243D42"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cargo run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/graphops/docs/edit/main/docs/graphcast/radios/poi-radio.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/graphcast/sdk/radio-dev"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">🧑‍💻 Radio Development</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#registering-your-graphcast-id" class="table-of-contents__link toc-highlight">Registering your Graphcast ID</a></li><li><a href="#run-with-docker" class="table-of-contents__link toc-highlight">Run with Docker</a></li><li><a href="#or-run-with-docker-compose" class="table-of-contents__link toc-highlight">(or) Run with docker-compose</a></li><li><a href="#or-run-using-a-pre-built-binary" class="table-of-contents__link toc-highlight">(or) Run using a pre-built binary</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#mainnet" class="table-of-contents__link toc-highlight">Mainnet</a></li><li><a href="#testnet-goerli" class="table-of-contents__link toc-highlight">Testnet (Goerli)</a></li><li><a href="#monitoring-the-radio" class="table-of-contents__link toc-highlight">Monitoring the Radio</a></li></ul></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How it works</a><ul><li><a href="#fetching-active-allocations" class="table-of-contents__link toc-highlight">Fetching active allocations</a></li><li><a href="#gathering-and-comparing-normalised-pois" class="table-of-contents__link toc-highlight">Gathering and comparing normalised POIs</a></li></ul></li><li><a href="#developing-the-poi-radio" class="table-of-contents__link toc-highlight">Developing the POI Radio</a><ul><li><a href="#building-poi-radio-locally" class="table-of-contents__link toc-highlight">Building POI Radio locally</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Graph Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/graphprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/graphprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/graphprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Indexer Office Hours</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/TheGraphIOH" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCQ7G_cCufIVUdUUUf-jdoVA" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube Recordings<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://graphops.notion.site/Indexer-Office-Hours-952e0b50a65144768aab922e2c9d102a" target="_blank" rel="noopener noreferrer" class="footer__link-item">All Prior Calls &amp; Agendas<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">GraphOps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/graphopsxyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/graphops" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://graphops.xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"> </div></div></div></footer></div>
<script src="/assets/js/runtime~main.bf0b3d2a.js"></script>
<script src="/assets/js/main.5aec4296.js"></script>
</body>
</html>